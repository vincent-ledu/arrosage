{% extends "base.html" %} {% block title %}Configuration GPIO{% endblock %} {%
block content %}
<h2>Configuration des broches GPIO</h2>

<form method="POST">
  <label for="pump">Broche de la pompe :</label>
  <input
    type="number"
    name="pump"
    id="pump"
    value="{{ config.pump }}"
    required
  />

  <label for="valve">Broche de la vanne :</label>
  <input
    type="number"
    name="valve"
    id="valve"
    value="{{ config.valve }}"
    required
  />

  <fieldset style="margin-top: 1rem">
    <legend>Broches des niveaux dâ€™eau :</legend>
    {% for i in range(4) %}
    <label for="level{{ i }}">Niveau {{ i+1 }} :</label>
    <input
      type="number"
      name="level{{ i }}"
      id="level{{ i }}"
      value="{{ config.levels[i] }}"
      required
    />
    {% endfor %}
  </fieldset>

  <button type="submit" style="margin-top: 1rem">ğŸ’¾ Enregistrer</button>
</form>
<form
  method="POST"
  action="/config/set-default-duration"
  style="margin-top: 2rem"
>
  <label for="default_duration"
    >â±ï¸ DurÃ©e dâ€™arrosage par dÃ©faut (secondes) :</label
  >
  <input
    type="number"
    id="default_duration"
    name="default_duration"
    value="{{ default_duration }}"
    min="1"
    required
  />
  <button type="submit">ğŸ’¾ Enregistrer</button>
</form>

{% endblock %}
